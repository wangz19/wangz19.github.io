
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>Regular Expressions | Zehai&#39;s page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="Zehai Wang">
    
    <meta name="description" content="It has been a while since I start using regular expression for NLP and text mining purposes, that decided to give a summary on this topic. The informa">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="Zehai&#39;s page" title="Zehai&#39;s page"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Zehai&#39;s page">Zehai&#39;s page</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:wangz19.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/10/Regular-Expressions/" title="Regular Expressions" itemprop="url">Regular Expressions</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://wangz19.github.io" title="Zehai Wang">Zehai Wang</a>
    </p>
  <p class="article-time">
    <time datetime="2018-07-10T14:22:29.000Z" itemprop="datePublished">2018-07-10</time>
    Updated:<time datetime="2018-07-11T04:46:01.294Z" itemprop="dateModified">2018-07-11</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Basic-patterning"><span class="toc-number">1.</span> <span class="toc-text">Basic patterning</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Options"><span class="toc-number">1.1.</span> <span class="toc-text">Options</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Greedy-and-non-Greedy"><span class="toc-number">1.2.</span> <span class="toc-text">Greedy and non-Greedy</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Substitution"><span class="toc-number">2.</span> <span class="toc-text">Substitution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Baby-name-Exercise"><span class="toc-number">3.</span> <span class="toc-text">Baby name Exercise</span></a></li></ol>
		</div>
		
		<p>It has been a while since I start using regular expression for NLP and text mining purposes, that decided to give a summary on this topic. The information can also be found on <a href="https://developers.google.com/edu/python/regular-expressions" target="_blank" rel="noopener">goolge learning</a>.</p>
<p>Hopefully this can give you a comprehensive hint of regular expression when doing NLP. Comments are welcome!</p>
<h3 id="Basic-patterning"><a href="#Basic-patterning" class="headerlink" title="Basic patterning"></a>Basic patterning</h3><p>It is good habit to start pattern strings with ‘r’ to designate a python ‘raw’ string.</p>
<ul>
<li><p>Meta-characters that do not match themselves  . ^ $ * + ? { [ ] \ | ( )</p>
<p>| Sign                  | Match usage                                                  |<br>| ——————— | ———————————————————— |<br>| “.” (period)          | any single chracter except newline ‘\n’                      |<br>| “\w” (lower)          | “word” character, a letter or digit or underbar, [a-zA-Z0-9_] |<br>| “\W “(upper)          | any non-word character                                       |<br>| “\b”                  | boundary between word and non-word                           |<br>| “\s” (lower)          | single white space, etc. [\n \r \t \f]                       |<br>| “\t”, “\n”, “\f”      | tab, newline, return                                         |<br>| “\d”                  | decimal digit [0-9] inter changable with \w and \s           |<br>| “^ “= start, “$”= end | match start, end of a string                                 |<br>| “\”                   | inhibit ‘specialness’ of the above character:” \.”  or “\\s” |</p>
</li>
<li><p>regular expression ‘re.match’ will return first encounters of the matches</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># match continuous three numbers</span></span><br><span class="line">match = re.search(<span class="string">r'\d\d\d'</span>, <span class="string">'123456'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> match:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">'found'</span>, match.group()))</span><br><span class="line"></span><br><span class="line"> output:</span><br><span class="line">truefound <span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>correct way (preffered expression) for “Repetition”</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># find the left most repetition of digits</span></span><br><span class="line">match = re.search(<span class="string">r'\d+'</span>, <span class="string">'123456acc123'</span>)</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">    found <span class="number">123456</span></span><br><span class="line"></span><br><span class="line">match = re.findall(<span class="string">r'\d+'</span>, <span class="string">'123456acc123'</span>)</span><br><span class="line"><span class="keyword">if</span> match:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">'found'</span>, match)</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">    found [<span class="string">'123456'</span>, <span class="string">'123'</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>Repetition</p>
<ul>
<li>“+” – 1 or more occurence of the pattern to its left</li>
<li>‘*’ – 0 or more occurences of the pattern to its left</li>
<li>“?” – match 0  or 1 occurences of the pattern to its left</li>
</ul>
</li>
<li><p>findall with files</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Open file</span></span><br><span class="line">  f = open(<span class="string">'test.txt'</span>, <span class="string">'r'</span>)</span><br><span class="line">  <span class="comment"># Feed the file text into findall(); it returns a list of all the found strings</span></span><br><span class="line">  strings = re.findall(<span class="string">r'some pattern'</span>, f.read())</span><br></pre></td></tr></table></figure>
</li>
<li><p>Square brackets</p>
<p>“[]” can be used to indicate a set of chars, in either or manners.  in “[ ]” the dot ‘.’ literal means dot sign. </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># extract all email address in the file</span></span><br><span class="line">f = open (<span class="string">'test.txt'</span>,<span class="string">'r'</span>)</span><br><span class="line">emails = re.findall(<span class="string">r'[\w.-]+@[\w.-]+'</span>, f.read())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> emails:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">'found'</span>, emails)</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">    found [<span class="string">'simple@example.com'</span>, <span class="string">'very.common@example.com'</span>, <span class="string">'symbol@example.com'</span>, <span class="string">'other.email-with-hyphen@example.com'</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>Group extraction</p>
<p>The “group” feature of a regular expression allows you to pick out parts of the matching text. Suppose for the emails problem that we want to extract the username and host separately. To do this, add parenthesis ( ) around the username and host in the pattern, like this: r’([\w.-]+)@([\w.-]+)’. In this case, the parenthesis do not change what the pattern will match, instead they establish logical “groups” inside of the match text. On a successful search, match.group(1) is the match text corresponding to the 1st left parenthesis, and match.group(2) is the text corresponding to the 2nd left parenthesis. The plain match.group() is still the whole match text as usual.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># extract user name and the host site as tuples</span></span><br><span class="line">f = open (<span class="string">'test.txt'</span>,<span class="string">'r'</span>)</span><br><span class="line">emails = re.findall(<span class="string">r'([\w.-]+)@([\w.-]+)'</span>, f.read())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> emails:</span><br><span class="line">    <span class="keyword">for</span> email <span class="keyword">in</span> emails:</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">'username:'</span>, email[<span class="number">0</span>],<span class="string">'\n'</span></span><br><span class="line">            <span class="string">'host:'</span>, email[<span class="number">1</span>],<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">    username: simple </span><br><span class="line">    host: example.com </span><br><span class="line"></span><br><span class="line">    username: very.common </span><br><span class="line">    host: example.com </span><br><span class="line"></span><br><span class="line">    username: symbol </span><br><span class="line">    host: example.com </span><br><span class="line"></span><br><span class="line">    username: other.email-<span class="keyword">with</span>-hyphen </span><br><span class="line">    host: example.com</span><br></pre></td></tr></table></figure>
<h4 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h4><p>The option flag is added as an extra argument to the search() or findall() etc., e.g. re.search(pat, str, re.IGNORECASE).</p>
<ul>
<li><strong>IGNORECASE</strong> – ignore upper/lowercase differences for matching, so ‘a’ matches both ‘a’ and ‘A’.</li>
<li><strong>DOTALL</strong> – allow dot (.) to match newline – normally it matches anything but newline. This can trip you up – you think .<em> matches everything, but by default it does not go past the end of a line. Note that \s (whitespace) includes newlines, so if you want to match a run of whitespace that may include a newline, you can just use \s</em></li>
<li><strong>MULTILINE</strong> – Within a string made of many lines, allow ^ and ‘\$’ to match the start and end of each line. Normally ^/$ would just match the start and end of the whole string.</li>
</ul>
<h4 id="Greedy-and-non-Greedy"><a href="#Greedy-and-non-Greedy" class="headerlink" title="Greedy and non-Greedy"></a>Greedy and non-Greedy</h4><p>This is optional section which shows a more advanced regular expression technique not needed for the exercises.</p>
<p>Suppose you have text with tags in it: <b>foo</b> and <i>so on</i></p>
<p>Suppose you are trying to match each tag with the pattern ‘(&lt;.<em>&gt;)’ – what does it match first?<br>The result is a little surprising, but the greedy aspect of the .</em> causes it to match the whole ‘<b>foo</b> and <i>so on</i>‘ as one big match. The problem is that the .* goes as far as is it can, instead of stopping at the first &gt; (aka it is “greedy”).</p>
<p>There is an extension to regular expression where you add a ? at the end, such as .<em>? or .+?, changing them to be non-greedy. Now they stop as soon as they can. So the pattern ‘(&lt;.</em>?&gt;)’ will get just ‘<b>‘ as the first match, and ‘</b>‘ as the second match, and so on getting each &lt;..&gt; pair in turn. The style is typically that you use a .<em>?, and then immediately its right look for some concrete marker (&gt; in this case) that forces the end of the .</em>? run.</p>
</li>
</ul>
<h3 id="Substitution"><a href="#Substitution" class="headerlink" title="Substitution"></a>Substitution</h3><p>re.sub(‘pat’, ‘replacement’, “string”) </p>
<p>“\1” and “\2” can represent group sections in the RE</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">str = <span class="string">'purple-alice@google.com, blah_monkey_bob@abc.com blah dishwasher'</span></span><br><span class="line">  <span class="comment">## re.sub(pat, replacement, str) -- returns new string with all replacements,</span></span><br><span class="line">  <span class="comment">## \1 is group(1), \2 group(2) in the replacement</span></span><br><span class="line"><span class="keyword">print</span> (re.sub(<span class="string">r'([\w\.-_]+)@([\w\.-]+)'</span>, <span class="string">r'\1@yo-yo-dyne.com'</span>, str))</span><br><span class="line">  <span class="comment">## purple alice@yo-yo-dyne.com, blah monkey bob@yo-yo-dyne.com blah dishwasher</span></span><br></pre></td></tr></table></figure>
<h3 id="Baby-name-Exercise"><a href="#Baby-name-Exercise" class="headerlink" title="Baby name Exercise"></a>Baby name Exercise</h3><p>File for the exercise can be downloaded from <a href="https://developers.google.com/edu/python/google-python-exercises.zip" target="_blank" rel="noopener">google-python-exercises.zip</a>. Attached is the solution:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># Copyright 2010 Google Inc.</span></span><br><span class="line"><span class="comment"># Licensed under the Apache License, Version 2.0</span></span><br><span class="line"><span class="comment"># http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google's Python Class</span></span><br><span class="line"><span class="comment"># http://code.google.com/edu/languages/google-python-class/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># solution from zehai wang 07.2018 at RPI</span></span><br><span class="line"><span class="comment"># copy right reserved</span></span><br><span class="line"><span class="comment"># Licensed under the Apache License, Version 2.0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="string">"""Baby Names exercise</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Define the extract_names() function below and change main()</span></span><br><span class="line"><span class="string">to call it.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">For writing regex, it's nice to include a copy of the target</span></span><br><span class="line"><span class="string">text for inspiration.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Here's what the html looks like in the baby.html files:</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string">&lt;h3 align="center"&gt;Popularity in 1990&lt;/h3&gt;</span></span><br><span class="line"><span class="string">....</span></span><br><span class="line"><span class="string">&lt;tr align="right"&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;Michael&lt;/td&gt;&lt;td&gt;Jessica&lt;/td&gt;</span></span><br><span class="line"><span class="string">&lt;tr align="right"&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;Christopher&lt;/td&gt;&lt;td&gt;Ashley&lt;/td&gt;</span></span><br><span class="line"><span class="string">&lt;tr align="right"&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;Matthew&lt;/td&gt;&lt;td&gt;Brittany&lt;/td&gt;</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Suggested milestones for incremental development:</span></span><br><span class="line"><span class="string"> -Extract the year and print it</span></span><br><span class="line"><span class="string"> -Extract the names and rank numbers and just print them</span></span><br><span class="line"><span class="string"> -Get the names data into a dict and print it</span></span><br><span class="line"><span class="string"> -Build the [year, 'name rank', ... ] list and print it</span></span><br><span class="line"><span class="string"> -Fix main() to use the extract_names list</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">extract_names</span><span class="params">(filename)</span>:</span></span><br><span class="line">  <span class="string">"""</span></span><br><span class="line"><span class="string">  Given a file name for baby.html, returns a list starting with the year string</span></span><br><span class="line"><span class="string">  followed by the name-rank strings in alphabetical order.</span></span><br><span class="line"><span class="string">  ['2006', 'Aaliyah 91', Aaron 57', 'Abagail 895', ' ...]</span></span><br><span class="line"><span class="string">  """</span></span><br><span class="line">  <span class="comment">###------- code start here ------------------###</span></span><br><span class="line">  f = open(filename)</span><br><span class="line">  name_list = re.findall(<span class="string">r'Popularity\sin\s+(\d\d\d\d)&lt;/h3&gt;'</span>, f.read())</span><br><span class="line">  f.seek(<span class="number">0</span>) <span class="comment"># re-initialize the file</span></span><br><span class="line">  names = re.findall(<span class="string">r'&lt;td&gt;(\d+)&lt;/td&gt;&lt;td&gt;(\w+)&lt;/td&gt;'</span>, f.read())</span><br><span class="line">  name_dic = dict((i[<span class="number">1</span>],i[<span class="number">0</span>]) <span class="keyword">for</span> i <span class="keyword">in</span> names)</span><br><span class="line">  <span class="comment"># sort the keys</span></span><br><span class="line">  name_keys = list(name_dic.keys())</span><br><span class="line">  name_keys.sort()</span><br><span class="line">  <span class="keyword">for</span> name <span class="keyword">in</span> name_keys:</span><br><span class="line">    name_list.append(<span class="string">'%s %s'</span>%(name,name_dic[name]))</span><br><span class="line">  </span><br><span class="line">  f.close()</span><br><span class="line">  <span class="comment">###------- code end here ------------------###</span></span><br><span class="line">  <span class="keyword">return</span> name_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="comment"># This command-line parsing code is provided.</span></span><br><span class="line">  <span class="comment"># Make a list of command line arguments, omitting the [0] element</span></span><br><span class="line">  <span class="comment"># which is the script itself.</span></span><br><span class="line">  args = sys.argv[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> args:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">'usage: [--summaryfile] file [file ...]'</span>)</span><br><span class="line">    sys.exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Notice the summary flag and remove it from args if it is present.</span></span><br><span class="line">  summary = <span class="keyword">False</span></span><br><span class="line">  <span class="keyword">if</span> args[<span class="number">0</span>] == <span class="string">'--summaryfile'</span>:</span><br><span class="line">    summary = <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">del</span> args[<span class="number">0</span>]</span><br><span class="line">  </span><br><span class="line">  <span class="comment">###------- code start here ------------------###</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> summary:</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> args:</span><br><span class="line">        <span class="comment"># matches = extract_names(file)</span></span><br><span class="line">        names = extract_names(file)</span><br><span class="line">        text = <span class="string">'\n'</span>.join(names) + <span class="string">'\n'</span></span><br><span class="line">        <span class="keyword">print</span> (text)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> args:</span><br><span class="line">        f = open(<span class="string">'%s.summary'</span>%file,<span class="string">'w'</span>)</span><br><span class="line">        names = extract_names(file)</span><br><span class="line">        text = <span class="string">'\n'</span>.join(names) + <span class="string">'\n'</span></span><br><span class="line">        f.write(text)</span><br><span class="line">        f.close()</span><br><span class="line">  <span class="comment">###------- code end here ------------------###</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment"># For each filename, get the names, then either print the text output</span></span><br><span class="line">  <span class="comment"># or write it to a summary file</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">  main()</span><br></pre></td></tr></table></figure>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/Python-re-NLP/">Python, re, NLP</a>
  </div>




<div class="article-share" id="share">

  <div data-url="http://wangz19.github.io/2018/07/10/Regular-Expressions/" data-title="Regular Expressions | Zehai&#39;s page" data-tsina="" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 

<div class="next">
<a href="/2018/04/19/NCBI-Hackathon/"  title="NCBI Hackathon &#34;You are awesome&#34;">
 <strong>NEXT:</strong><br/> 
 <span>NCBI Hackathon &#34;You are awesome&#34;
</span>
</a>
</div>

</nav>

	
</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
  <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Basic-patterning"><span class="toc-number">1.</span> <span class="toc-text">Basic patterning</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Options"><span class="toc-number">1.1.</span> <span class="toc-text">Options</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Greedy-and-non-Greedy"><span class="toc-number">1.2.</span> <span class="toc-text">Greedy and non-Greedy</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Substitution"><span class="toc-number">2.</span> <span class="toc-text">Substitution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Baby-name-Exercise"><span class="toc-number">3.</span> <span class="toc-text">Baby name Exercise</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  

  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			<li><a href="/tags/Cloud-Search/" title="Cloud Search;">Cloud Search;<sup>1</sup></a></li>
		
			<li><a href="/tags/EMR-Data-parsing/" title="EMR, Data parsing">EMR, Data parsing<sup>1</sup></a></li>
		
			<li><a href="/tags/Machine-Learning/" title="Machine Learning">Machine Learning<sup>2</sup></a></li>
		
			<li><a href="/tags/Markdown/" title="Markdown">Markdown<sup>1</sup></a></li>
		
			<li><a href="/tags/Python-re-NLP/" title="Python, re, NLP">Python, re, NLP<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="rsspart">
	<a href="" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		
		
		<a href="https://github.com/wangz19" target="_blank" title="github"></a>
		
		
		
        <a href="https://www.linkedin.com/wangz19" target="_blank" title="linkedin"></a>
        
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2018 
		
		<a href="http://wangz19.github.io" target="_blank" title="Zehai Wang">Zehai Wang</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>






  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</body>
</html>
